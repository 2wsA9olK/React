(this["webpackJsonpreact-samurai-1"]=this["webpackJsonpreact-samurai-1"]||[]).push([[3],{297:function(t,e,s){"use strict";s.d(e,"a",(function(){return f}));var n=s(3),a=s(33),r=s(34),o=s(37),c=s(36),i=s(0),u=s.n(i),j=s(18),b=s(10),l=s(1),d=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(o.a)(i,e);var s=Object(c.a)(i);function i(){return Object(a.a)(this,i),s.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?Object(l.jsx)(t,Object(n.a)({},this.props)):Object(l.jsx)(b.a,{to:"/login"})}}]),i}(u.a.Component);return Object(j.b)(d)(e)}},298:function(t,e,s){t.exports={content:"Profile_content__3yKmd",rightContent:"Profile_rightContent__3VqYu",leftContent:"Profile_leftContent__vTRRE"}},299:function(t,e,s){t.exports={userInfo:"ProfileInfo_userInfo__3MCDw",album:"ProfileInfo_album__qrFPh"}},300:function(t,e,s){t.exports={ava:"ProfileLeft_ava__3nAYg",photoAva:"ProfileLeft_photoAva__ONvP0",friends:"ProfileLeft_friends__2wtZc"}},301:function(t,e,s){t.exports={newPost:"MyPosts_newPost__tmXZS",textarea:"MyPosts_textarea__1Nlrh",myPost:"MyPosts_myPost__1jDEM"}},303:function(t,e,s){"use strict";s.r(e);var n=s(3),a=s(33),r=s(34),o=s(37),c=s(36),i=s(0),u=s.n(i),j=s(18),b=s(298),l=s.n(b),d=s(53),f=s(299),h=s.n(f),O=s(127),p=s(1),m=function(t){var e=Object(i.useState)(!1),s=Object(O.a)(e,2),n=s[0],a=s[1],r=Object(i.useState)(t.status),o=Object(O.a)(r,2),c=o[0],u=o[1];Object(i.useEffect)((function(){u(t.status)}),[t.status]);return Object(p.jsxs)("div",{children:[!n&&Object(p.jsx)("div",{children:Object(p.jsx)("span",{onDoubleClick:function(){a(!0)},children:t.status||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"})}),n&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},type:"text",autoFocus:!0,onBlur:function(){a(!1),t.updateStatus(c)},value:c})})]})},x=function(t){var e=t.profile,s=t.status,n=t.updateStatus;return e?Object(p.jsxs)("div",{className:h.a.content,children:[Object(p.jsxs)("div",{className:h.a.userInfo,children:[e.fullName,Object(p.jsx)("br",{}),Object(p.jsx)(m,{status:s,updateStatus:n}),"About me: ",e.aboutMe,Object(p.jsx)("br",{}),"LookingForAJob: ",e.lookingForAJob,Object(p.jsx)("br",{}),"LookingForAJobDescription: ",e.lookingForAJobDescription,Object(p.jsx)("br",{}),"Contacts: ",Object(p.jsx)("br",{}),"Facebook: ",e.contacts.facebook,Object(p.jsx)("br",{}),"Vk: ",e.contacts.vk,Object(p.jsx)("br",{}),"Twitter: ",e.contacts.twitter,Object(p.jsx)("br",{}),"Instagram: ",e.contacts.instagram,Object(p.jsx)("br",{}),"Youtube: ",e.contacts.youtube,Object(p.jsx)("br",{})]}),Object(p.jsx)("div",{className:h.a.album,children:"Album"})]}):Object(p.jsxs)("div",{className:h.a.content,children:[Object(p.jsx)("div",{className:h.a.userInfo,children:Object(p.jsx)(d.a,{})}),Object(p.jsx)("div",{className:h.a.album,children:"Album"})]})},v=s(300),P=s.n(v),_=s(124);var g=function(t){var e=t.profile,s=t.isOwner,n=t.savePhoto;return e?Object(p.jsxs)("div",{className:P.a.content,children:[Object(p.jsxs)("div",{className:P.a.ava,children:[Object(p.jsx)("img",{src:e.photos.large||_.a,className:P.a.photoAva}),s&&Object(p.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}})]}),Object(p.jsx)("div",{className:P.a.friends,children:"Friends"}),Object(p.jsx)("div",{})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:P.a.ava,children:Object(p.jsx)(d.a,{})}),Object(p.jsx)("div",{className:P.a.friends,children:"Friends"})]})},y=s(93),N=s(38),k=function(t){return Object(p.jsxs)("div",{children:[t.message,Object(p.jsx)("span",{children:" Like:"})," ",t.likeConst]})},w=s(301),A=s.n(w),C=s(87),S=s(126),I=s(71),D=s(30),F=u.a.memo((function(t){var e=Object(N.a)(t.myPostDate).reverse().map((function(t){return Object(p.jsx)(k,{message:t.message,likeConst:t.likeConst})}));return Object(p.jsxs)("div",{children:["MyPosts",Object(p.jsx)("div",{className:A.a.newPost,children:Object(p.jsx)(T,{onSubmit:function(e){t.addPost(e.newPostText)}})}),Object(p.jsx)("div",{className:A.a.myPosts,children:Object(p.jsx)("div",{className:A.a.myPost,children:e})})]})})),M=Object(I.a)(10),T=Object(S.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(p.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(p.jsx)(C.a,{component:D.b,name:"newPostText",validate:[I.b,M]}),Object(p.jsx)("button",{children:"Add Post"})]})})),J=F,L=Object(j.b)((function(t){return{myPostDate:t.ProfilePage.myPostDate,newPostText:t.ProfilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(y.a)(e))}}}))(J),E=function(t){return Object(p.jsxs)("div",{className:l.a.content,children:[Object(p.jsx)("div",{className:l.a.leftContent,children:Object(p.jsx)(g,{profile:t.profile,savePhoto:t.savePhoto,isOwner:t.isOwner})}),Object(p.jsxs)("div",{className:l.a.rightContent,children:[Object(p.jsx)(x,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(p.jsx)(L,{})]})]})},U=s(10),Y=(s(297),s(9)),q=function(t){Object(o.a)(s,t);var e=Object(c.a)(s);function s(){return Object(a.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizeduserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(p.jsx)(E,Object(n.a)(Object(n.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(u.a.Component);e.default=Object(Y.d)(Object(j.b)((function(t){return{profile:t.ProfilePage.profile,status:t.ProfilePage.status,authorizeduserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:y.d,getStatus:y.c,updateStatus:y.f,savePhoto:y.e}),U.g)(q)}}]);
//# sourceMappingURL=3.e9faf203.chunk.js.map